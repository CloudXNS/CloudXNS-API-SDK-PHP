<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="renderer" content="webkit" />
        <link rel="shortcut icon" href="https://www.cloudxns.net/favicon.ico" type="image/x-icon" />
        <title>CloudXNS API 测试工具</title>
        <link rel="stylesheet" href="https://www.cloudxns.net/Public/Sun/css/manage.css?v=20151022">
        <link rel="stylesheet" href="https://www.cloudxns.net/Public/Sun/css/jquery.fancybox-1.3.4.css?v=20151022"/>
        <link rel="stylesheet" href="https://www.cloudxns.net/Public/Sun/js/artDialog/skins/xns.css?v=20151022"/>
        <style type="text/css">
            .usercenter .userside li.current ul li a:hover, .usercenter .userside li.current ul li a.current {
                color: #00a4ef;
            }
            .mainbody .text {
                border: 1px solid #c4c4c4;
                border-radius: 3px;
                height: 30px;
                padding: 0 0 0 8px;
                width: 162px;
            }
            .btn-group a{
                background: #00a4ef none repeat scroll 0 0;
                border-radius: 3px;
                color: #fff;
                display: inline-block;
                line-height: 34px;
                padding: 0 17px;
                vertical-align: top;
            }
        </style>
    </head>
    <body class="zhcn">
        <div id="account">
            <div class="wrap">
                <a href="https://www.cloudxns.net/Index/index.html" id="logo" title="CloudXNS 面向云计算的智能DNS系统">CloudXNS</a>
            </div>
        </div>
        <div class="managetop">
            <div class="wrap">
                <div class="breadcrumb">
                    <h2>CloudXNS API 测试工具</h2>
                </div>

            </div>
        </div> 
        <div class="mainbody">
            <div class="usercenter">
                <div class="userside">
                    <ul>
                        <li><a href="Domain.html" >域名信息</a></li>
                        <li><a href="RecordType.html">记录类型</a></li>
                        <li><a href="Line.html">线路&区域&ISP</a></li>
                        <li><a href="Host.html">主机记录</a></li>
                        <li  class="current"><a href="Record.html">解析记录</a></li>
                        <li><a href="Statistics.html">解析量统计</a></li>
                        <li><a href="Ns.html">NS服务器</a></li>
                    </ul>
                </div>	
                <div class="usercon">
                    <div class="action">
                        <div class="btn-toolbar">
                            <div class="btn-group">
                                域名ID：<input type="text" class="text" name="domainId" id="domainId" placeholder="域名ID"/>
                                主机ID：<input type="text" class="text" name="hostId" id="hostId" placeholder="主机记录id，默认：查全部"/>
                                <a id="search"  href="#">查询</a><br/><br/>
                                <a id="recordAdd" class="btn success add" href="#addsubaccount">添加解析记录</a>
                                <!--<a id="spareAdd" class="btn success add" href="#addsubaccount">添加备记录</a>-->
                            </div>
                        </div>
                    </div>
                    <table class="simple">
                        <thead>
                            <tr>
                                <th>主机记录</th>
                                <th>记录类型</th>
                                <th>线路类型</th>
                                <th>优先级</th>
                                <th>记录值</th>
                                <th>记录状态</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="domain_list">
                            <tr class="bg_white h_30">
                                <td colspan="9">暂无数据</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div style="display: none;">
                    <div id="addsubaccount" class='recordAdd'>
                        <form id="addsub_frm" class="popcon" onkeydown="if(event.keyCode==13){return false;}">
                            <p id="addtips" style="display:none;color:red;"></p>
                            <table>
                                <tr>
                                    <th width="90"><span style="color:red;">*</span>域名ID：</th>
                                    <td width="220"><input type="text" class="text" name="domainId" id="domainId" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90">主机名称：</th>
                                    <td width="220"><input type="text" class="text" name="host" id="host" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90"><span style="color:red;">*</span>记录值：</th>
                                    <td width="220"><input type="text" class="text" name="value" id="value" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90"><span style="color:red;">*</span>记录类型：</th>
                                    <td width="220"><input type="text" class="text" name="type" id="type" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90"><span style="color:red;">*</span>线路ID：</th>
                                    <td width="220"><input type="text" class="text" name="lineId" id="lineId" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90">优先级：</th>
                                    <td width="220"><input type="text" class="text" name="mx" id="mx" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90">TTL：</th>
                                    <td width="220"><input type="text" class="text" name="ttl" id="ttl" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th></th>
                                    <td><input type="button" value="保存"  param='recordAdd' class="btn submit" id="addAcc_btn"></td>
                                </tr>

                            </table>
                        </form>
                    </div>
                </div>
                <div style="display: none;">
                    <div id="addsubaccount" class='spareAdd'>
                        <form id="addsub_frm" class="popcon" onkeydown="if(event.keyCode==13){return false;}">
                            <p id="addtips" style="display:none;color:red;"></p>
                            <table>
                                <tr>
                                    <th width="90"><span style="color:red;">*</span>域名ID：</th>
                                    <td width="220"><input type="text" class="text domainId" name="domainId" id="domainId" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90"><span style="color:red;">*</span>主机记录ID：</th>
                                    <td width="220"><input type="text" class="text hostId" name="hostId" id="hostId" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90"><span style="color:red;">*</span>解析记录ID：</th>
                                    <td width="220"><input type="text" class="text recordId" name="recordId" id="recordId" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90"><span style="color:red;">*</span>备记录值：</th>
                                    <td width="220"><input type="text" class="text" name="value" id="value" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th></th>
                                    <td><input type="button" value="保存"  class="btn submit" param='spareAdd' id="addAcc_btn"></td>
                                </tr>

                            </table>
                        </form>
                    </div>
                </div>
                <div style="display: none;">
                    <div id="addsubaccount" class='recordUpdate'>
                        <form id="addsub_frm" class="popcon" onkeydown="if(event.keyCode==13){return false;}">
                            <p id="addtips" style="display:none;color:red;"></p>
                            <table>
                                <tr>
                                    <th width="90"><span style="color:red;">*</span>域名ID：</th>
                                    <td width="220"><input type="text" class="text domainId" name="domainId" id="domainId" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90"><span style="color:red;">*</span>主机名称：</th>
                                    <td width="220"><input type="text" class="text host" name="host" id="host" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90">记录值：</th>
                                    <td width="220"><input type="text" class="text value" name="value" id="value" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90">记录类型：</th>
                                    <td width="220"><input type="text" class="text type" name="type" id="type" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90">线路ID：</th>
                                    <td width="220"><input type="text" class="text lineId" name="lineId" id="lineId" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90">优先级：</th>
                                    <td width="220"><input type="text" class="text mx" name="mx" id="mx" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90">TTL：</th>
                                    <td width="220"><input type="text" class="text ttl" name="ttl" id="ttl" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th width="90">备IP：</th>
                                    <td width="220"><input type="text" class="text bakIp" name="bakIp" id="bakIp" value="" maxlength="64"/></td>
                                </tr>
                                <tr>
                                    <th></th>
                                    <td>
                                        <input type="hidden" class="text record" name="record" id="record" value="" maxlength="64"/>
                                        <input type="button" value="保存"  class="btn submit" param='recordUpdate' id="addAcc_btn">
                                    </td>
                                </tr>

                            </table>
                        </form>
                    </div>
                </div>
            </div> 
        </div>

        <div id="footer">
            <div class="footlinks">
                <dl>
                    <dt><a href="https://www.cloudxns.net/Index/AboutXns.html">了解CloudXNS</a></dt>
                    <dd><a href="https://www.cloudxns.net/Index/AboutXns.html">九大优势</a></dd>
                    <dd><a href="https://www.cloudxns.net/Index/Line.html">线路纵览</a></dd>
                    <dd><a href="https://www.cloudxns.net/Index/Extend.html">扩展解析</a></dd>
                    <dd><a href="https://www.cloudxns.net/Index/Guide.html">带你入门</a></dd>
                </dl>
                <dl>
                    <dt>CloudXNS+</dt>
                    <dd><a href="https://www.cloudxns.net/Index/Speed.html">牛盾云加速</a></dd>
                    <dd><a href="https://www.cloudxns.net/Index/HttpDNS.html">HttpDNS</a></dd>
                    <dd><a href="https://www.cloudxns.net/Index/weixin.html">微域名管理</a></dd>
                </dl>
                <dl>
                    <dt><a href="https://www.cloudxns.net/Support/index.html">服务与支持</a></dt>
                    <dd><a href="https://www.cloudxns.net/Support/lists/cid/1.html">帮助中心</a></dd>
                    <dd><a href="https://www.cloudxns.net/Support/lists/cid/2.html">资讯快车</a></dd>
                    <dd><a href="https://www.cloudxns.net/Support/lists/cid/3.html">X社区</a></dd>
                </dl>
                <dl>
                    <dt><a href="http://tools.cloudxns.net">运维工具箱</a></dt>
                    <dd><a href="http://tools.cloudxns.net/index.php/Index/Diag" target="_blank">用户DNS优化</a></dd>
                    <dd><a href="http://tools.cloudxns.net/index.php/Index/Mdig" target="_blank">分区解析查询</a></dd>
                    <dd><a href="http://tools.cloudxns.net/index.php/Index/Ping" target="_blank">分区Ping</a></dd>
                </dl>
                <dl>
                    <dt><a href="https://www.cloudxns.net/Index/aboutus.html">关于我们</a></dt>
                    <dd><a href="https://www.cloudxns.net/Index/service.html">服务订制</a></dd>
                    <dd><a href="https://www.cloudxns.net/Sign/agreement.html">用户协议</a></dd>
                    <dd><a href="http://www.fastweb.com.cn" target="_blank" title="北京快网—专业的云计算CDN网站加速服务提供商">北京快网</a></dd>
                    <dd><a href="http://www.21vianet.com/" target="_blank" title="世纪互联—中国最大的电信中立互联网基础设施服务商">世纪互联</a></dd>
                </dl>
                <dl>
                    <dt>管理控制台</dt>
                    <dd><a href="https://www.cloudxns.net/Domain/index.html">我的域名</a></dd>
                    <dd><a href="https://www.cloudxns.net/Monitor/index.html">监控任务</a></dd>
                    <dd><a href="https://www.cloudxns.net/PrivateView/index.html">私有线路</a></dd>
                </dl>
                <div class="contact">
                    <ul>
                        <li><a href="http://crm2.qq.com/page/portalpage/wpa.php?uin=800081044&f=1&ty=1&aty=0&a=&from=6" class="qq" target="_blank">QQ</a></li>
                        <li><a href="javascript:;" class="wx">微信</a>
                            <p><img src="https://www.cloudxns.net/Public/Sun/images/common/cloudxns.jpg">CloudXNS官方微信<s>></s></p>
                        </li>
                        <li><a href="http://weibo.com/cloudxns" class="wb" target="_blank">新浪微博</a></li>
                    </ul>
                    <h4>紧急技术支持：</h4><p>027-87001618-8013</p><p>15549442542</p><p>15671618036</p>            
                </div>
            </div>
            <p class="t">Copyright © 2015 Beijing Fastweb Technology Inc. All Rights Reserved <a href="http://www.miibeian.gov.cn/" target="_blank">京ICP备06026704号-4</a></p>
        </div>
        <script src="https://www.cloudxns.net/Public/Sun/js/jquery.min.js?v=20151022"></script>

        <script src="https://www.cloudxns.net/Public/Sun/js/artDialog/jquery.artDialog.js?v=20151022"></script>

        <script>
            $(function() {
                 $("#search").live({
                    click:function() {
                        var id = $('#domainId').val();
                        var hostId = $('#hostId').val();
                        var action = 'recordList';
                        $.ajax({
                            type: "post",
                            url: "Demo.php",
                            dataType: 'json',
                            data: {action: action, id:id, hostId:hostId},
                            success: function(data) {
                                if (data.code != 1) {
                                    alert(data.message);
                                } else {
                                    $("#domain_list").html(data.message);
                                }
                            }
                        });
                    }
                });
                
                $("#recordAdd").live({
                    click:function() {
                        art.dialog({
                            content: $(".recordAdd")[0],
                            title:'添加解析记录',
                            lock: true, 
                            id: 'addsubaccount',
                            width:'640px',
                            init: function () {
                                $('#addtips').html('').hide();
                                $('#addsub_frm')[0].reset();
                            },
                            closeFn: function () {
                                // location.reload();
                            }
                        });
                        return false;
                    }
                });
                
                $(".spare").live({
                    click:function() {
                        var id = $(this).attr('id');
                        var host = $(this).attr('host');
                        var record = $(this).attr('record');
                        art.dialog({
                            content: $(".spareAdd")[0],
                            title:'添加备记录',
                            lock: true, 
                            id: 'addsubaccount',
                            width:'640px',
                            init: function () {
                                $('#addtips').html('').hide();
                                $('#addsub_frm')[0].reset();
                                $('.spareAdd .domainId').val(id);
                                $('.spareAdd .hostId').val(host);
                                $('.spareAdd .recordId').val(record);
                            },
                            closeFn: function () {
                                // location.reload();
                            }
                        });
                        return false;
                    }
                });
                
                $(".edit").live({
                    click:function() {
                        var id = $(this).attr('id');
                        var host = $(this).attr('host');
                        var value = $(this).attr('value');
                        var type = $(this).attr('type');
                        var mx = $(this).attr('mx');
                        var ttl = $(this).attr('ttl');
                        var lineId = $(this).attr('lineId');
                        var bakIp = $(this).attr('bakIP');
                        var record = $(this).attr('record');
                        art.dialog({
                            content: $(".recordUpdate")[0],
                            title:'更新解析记录',
                            lock: true, 
                            id: 'addsubaccount',
                            width:'640px',
                            init: function () {
                                $('#addtips').html('').hide();
                                $('#addsub_frm')[0].reset();
                                $('.recordUpdate .domainId').val(id);
                                $('.recordUpdate .host').val(host);
                                $('.recordUpdate .value').val(value);
                                $('.recordUpdate .type').val(type);
                                $('.recordUpdate .mx').val(mx);
                                $('.recordUpdate .ttl').val(ttl);
                                $('.recordUpdate .lineId').val(lineId);
                                $('.recordUpdate .bakIp').val(bakIp);
                                $('.recordUpdate .record').val(record);
                            },
                            closeFn: function () {
                                // location.reload();
                            }
                        });
                        return false;
                    }
                });
                
                $(".submit").live({
                    click:function() {
                        var action = $(this).attr('param');
                        if(action == 'recordAdd'){
                            var id = $("#domainId").val();
                            var host = $("#host").val();
                            var value = $("#value").val();
                            var type = $("#type").val();
                            var mx = $("#mx").val();
                            var ttl = $("#ttl").val();
                            var lineId = $("#lineId").val();                        
                            var data ={action:action, id:id, host:host, value:value, type:type, mx:mx, ttl:ttl, lineId:lineId}
                        }else if(action == 'spareAdd'){
                            var id = $("#domainId").val();
                            var hostId = $("#hostId").val();
                            var recordId = $("#recordId").val();
                            var value = $("#value").val();                                                    
                            var data ={action:action, id:id, hostId:hostId, recordId:recordId, value:value}
                        }else{
                            var id = $("#domainId").val();
                            var host = $("#host").val();
                            var value = $("#value").val();
                            var type = $("#type").val();
                            var mx = $("#mx").val();
                            var ttl = $("#ttl").val();
                            var lineId = $("#lineId").val(); 
                            var bakIp = $("#bakIp").val();
                            var record = $("#record").val();
                            var data ={action:action, id:id, host:host, value:value, type:type, mx:mx, ttl:ttl, lineId:lineId, bakIp:bakIp, record:record}
                        }
                        $.ajax({
                            type: "post",
                            url: "Demo.php",
                            dataType: 'json',
                            data: data,
                            success: function(data) {
                                alert(data.message);
                                if (data.code == 1) {
                                    location.reload();
                                }
                            }
                        });
                    }
                });
                
                $(".delete").live({
                    click:function() {
                        var id = $(this).attr('id');
                        var record = $(this).attr('record');
                        var action = 'recordDelete';
                        $.ajax({
                            type: "post",
                            url: "Demo.php",
                            dataType: 'json',
                            data: {action: action, id:id, record:record},
                            success: function(data) {
                                alert(data.message);
                                if (data.code == 1) {
                                    location.reload();
                                }
                            }
                        });
                    }
                });
   
            });
            
            function init(action){
                $.ajax({
                    type: "post",
                    url: "Demo.php",
                    dataType: 'json',
                    data: {action: action},
                    success: function(data) {
                        if (data.code != 1) {
                            alert(data.message);
                        }else{
                            $("#domain_list").html(data.message);
                        }
                    }
                });
            }

        </script>

    </body>
</html>